<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../static/css/chatbot.css">
  <!--{{ url_for('chatbot_routes.static', filename='css/chatbot.css') }} -->
  <link rel="shortcut icon" href="../static/images/mediguide-ai-logo.png" type="image/x-icon">
  <!--{{ url_for('chatbot_routes.static', filename='images/mediguide-ai-logo.png') }}-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <title>MediGuide AI</title>
</head>

<body>
  <div class="topbar">
    <img src="../static/images/MediGuide-Logo.png" alt="MediGuide AI">
    <div class="right-topbar">
      <button type="submit">
        Log Out
      </button>
      <label>{{ user['Name'] }}</label>
      <img src="{{ user['picture'] }}" alt="User Profile Photo">
    </div>
  </div>
  <div class="chat-section">
    <div class="messages" id="messages">
      <!-- Chat will be added here dynamically -->
    </div>
    <div class="input-area">
      <div class="input-box">
        <input type="text" placeholder="Type here..." class="chat-input" id="chatInput">
        <button onclick="sendMessage()"><img src="../static/images/Send-Button.png" alt="Send Button"></button>
        <button><img src="../static/images/Mic-Option.png" alt=""></button>
      </div>
    </div>
  </div>

  <script>
    function sendMessage() {
      const input = document.getElementById('chatInput');
      const messageText = input.value.trim();

      if (messageText) {
        const messagesDiv = document.getElementById('messages');
        const userBubble = document.createElement('div');
        userBubble.className = 'message user-message';
        userBubble.innerText = messageText;
        messagesDiv.appendChild(userBubble);

        setTimeout(() => {
          const botBubble = document.createElement('div');
          botBubble.className = 'message bot-message';
          botBubble.innerText = 'Thank you for your message! How can I assist you further?';
          messagesDiv.appendChild(botBubble);

          messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }, 1000);

        input.value = '';

        messagesDiv.scrollTop = messagesDiv.scrollHeight;
      }
    }
  </script>

</body>

</html>